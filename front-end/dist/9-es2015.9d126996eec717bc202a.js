(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{wujY:function(e,t,r){"use strict";r.r(t),r.d(t,"MembershipModule",function(){return S});var i=r("ofXK"),n=r("fXoL"),s=r("XNiG");const c=["payPalButtonContainer"];let a=(()=>{class e{constructor(e){this.zone=e}registerScript(e,t,r){const i=window[t];if(i)return void this.zone.run(()=>{r(i)});const n=document.createElement("script");n.id=this.getElemId(t),n.innerHTML="",n.onload=()=>{this.zone.run(()=>{r(window[t])})},n.src=e,n.async=!0,n.defer=!0,document.getElementsByTagName("head")[0].appendChild(n)}cleanup(e){const t=document.getElementById(this.getElemId(e));t&&t.remove()}getElemId(e){return`ngx-paypal-script-elem-${e}`}}return e.\u0275fac=function(t){return new(t||e)(n.Xb(n.A))},e.\u0275prov=n.Gb({token:e,factory:e.\u0275fac}),e})(),o=(()=>{class e{constructor(e){this.scriptService=e,this.paypalWindowName="paypal"}registerPayPalScript(e,t){this.scriptService.registerScript(this.getUrlForConfig(e),this.paypalWindowName,t)}destroyPayPalScript(){this.scriptService.cleanup(this.paypalWindowName)}getUrlForConfig(e){const t=[{name:"client-id",value:e.clientId}];return e.currency&&t.push({name:"currency",value:e.currency}),e.commit&&t.push({name:"commit",value:e.commit}),e.vault&&t.push({name:"vault",value:e.vault}),e.extraParams&&t.push(...e.extraParams),`https://www.paypal.com/sdk/js${this.getQueryString(t)}`}getQueryString(e){let t="";for(let r=0;r<e.length;r++){const i=e[r];t+=0===r?"?":"&",t+=`${i.name}=${i.value}`}return t}}return e.\u0275fac=function(t){return new(t||e)(n.Xb(a))},e.\u0275prov=n.Gb({token:e,factory:e.\u0275fac}),e})(),l=(()=>{class e{constructor(e,t,r){this.paypalScriptService=e,this.cdr=t,this.ngZone=r,this.registerScript=!0,this.scriptLoaded=new n.n,this.ngUnsubscribe=new s.a,this.initializePayPal=!0}set payPalButtonContainer(e){this.payPalButtonContainerElem=e}ngOnChanges(e){this.payPalButtonContainerId||(this.payPalButtonContainerId=this.generateElementId());const t=this.config;e.config.isFirstChange()&&t&&this.registerScript&&this.initPayPalScript(t,e=>{this.payPal=e,this.doPayPalCheck()}),e.config.isFirstChange()||this.reinitialize(t)}ngOnDestroy(){this.paypalScriptService.destroyPayPalScript(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.doPayPalCheck()}customInit(e){this.payPal=e,this.doPayPalCheck()}reinitialize(e){if(this.config=e,this.payPal=void 0,this.paypalScriptService.destroyPayPalScript(),this.payPalButtonContainerId=this.generateElementId(),this.initializePayPal=!0,this.payPalButtonContainerElem)for(;this.payPalButtonContainerElem.nativeElement.firstChild;)this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);this.cdr.detectChanges(),this.config&&(this.payPal?this.doPayPalCheck():this.initPayPalScript(this.config,e=>{this.payPal=e,this.doPayPalCheck()}))}doPayPalCheck(){this.initializePayPal&&this.config&&this.payPal&&this.payPalButtonContainerElem&&this.payPalButtonContainerElem.nativeElement.id&&(this.initializePayPal=!1,this.initPayPal(this.config,this.payPal))}initPayPalScript(e,t){this.paypalScriptService.registerPayPalScript({clientId:e.clientId,commit:e.advanced&&e.advanced.commit?e.advanced.commit:void 0,currency:e.currency,vault:e.vault,extraParams:e.advanced&&e.advanced.extraQueryParams?e.advanced.extraQueryParams:[]},e=>{this.scriptLoaded.next(e),t(e)})}generateElementId(){return`ngx-captcha-id-${(new Date).valueOf()}`}initPayPal(e,t){this.ngZone.runOutsideAngular(()=>{const r=Object.assign(Object.assign(Object.assign({style:e.style,onApprove:(t,r)=>this.ngZone.run(()=>{if(e.onApprove&&e.onApprove(t,r),e.authorizeOnServer)return e.authorizeOnServer(t,r);const i=e.onClientAuthorization;i&&r.order.capture().then(e=>{this.ngZone.run(()=>{i(e)})})}),onError:t=>{this.ngZone.run(()=>{e.onError&&e.onError(t)})},onCancel:(t,r)=>{this.ngZone.run(()=>{e.onCancel&&e.onCancel(t,r)})},onClick:(t,r)=>{this.ngZone.run(()=>{e.onClick&&e.onClick(t,r)})},onInit:(t,r)=>{this.ngZone.run(()=>{e.onInit&&e.onInit(t,r)})}},(e.createOrderOnClient||e.createOrderOnServer)&&{createOrder:(t,r)=>this.ngZone.run(()=>{if(e.createOrderOnClient&&e.createOrderOnServer)throw Error("Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                    Please choose one or the other.");if(!e.createOrderOnClient&&!e.createOrderOnServer)throw Error("Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                    Please define one of these to create order.");if(e.createOrderOnClient)return r.order.create(e.createOrderOnClient(t));if(e.createOrderOnServer)return e.createOrderOnServer(t);throw Error("Invalid state for 'createOrder'.")})}),e.createSubscription&&{createSubscription:(t,r)=>this.ngZone.run(()=>{if(e.createSubscription)return e.createSubscription(t,r)})}),e.onShippingChange&&{onShippingChange:(t,r)=>this.ngZone.run(()=>{if(e.onShippingChange)return e.onShippingChange(t,r)})});t.Buttons(r).render(`#${this.payPalButtonContainerId}`)})}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(o),n.Kb(n.h),n.Kb(n.A))},e.\u0275cmp=n.Eb({type:e,selectors:[["ngx-paypal"]],viewQuery:function(e,t){if(1&e&&n.Cc(c,1),2&e){let e;n.oc(e=n.bc())&&(t.payPalButtonContainer=e.first)}},inputs:{registerScript:"registerScript",config:"config"},outputs:{scriptLoaded:"scriptLoaded"},features:[n.wb],decls:2,vars:1,consts:[[3,"id"],["payPalButtonContainer",""]],template:function(e,t){1&e&&n.Lb(0,"div",0,1),2&e&&n.hc("id",t.payPalButtonContainerId)},encapsulation:2,changeDetection:0}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({providers:[a,o],imports:[[i.b]]}),e})();var d=r("tyNb"),p=r("IYfF"),u=r("3Pt+");function b(e,t){if(1&e&&(n.Qb(0,"td"),n.yc(1),n.Pb()),2&e){const e=n.cc().$implicit;n.yb(1),n.zc(e.service_tenure)}}function m(e,t){if(1&e&&(n.Qb(0,"td"),n.yc(1),n.Pb()),2&e){const e=n.cc().$implicit;n.yb(1),n.Bc("",e.currency_used," ",e.service_price,"")}}function y(e,t){if(1&e){const e=n.Rb();n.Qb(0,"td"),n.Qb(1,"button",18),n.ac("click",function(){n.qc(e);const t=n.cc().$implicit,r=n.cc().$implicit;return n.cc(2).handleModel(r.service_name,t)}),n.yc(2,"Pay Now"),n.Pb(),n.Pb()}}function v(e,t){if(1&e&&(n.Qb(0,"tr"),n.wc(1,b,2,1,"td",17),n.wc(2,m,2,2,"td",17),n.wc(3,y,3,0,"td",17),n.Pb()),2&e){const e=t.$implicit;n.yb(1),n.hc("ngIf",e.service_price),n.yb(1),n.hc("ngIf",e.service_price),n.yb(1),n.hc("ngIf",e.service_price)}}function g(e,t){if(1&e&&(n.Qb(0,"div",10),n.Qb(1,"div",11),n.Qb(2,"div",12),n.yc(3),n.Pb(),n.Qb(4,"div",13),n.Qb(5,"table",14),n.Qb(6,"thead"),n.Qb(7,"tr"),n.Qb(8,"th",15),n.yc(9,"Membership Tenure"),n.Pb(),n.Qb(10,"th",15),n.yc(11,"Plan Price"),n.Pb(),n.Qb(12,"th",15),n.yc(13,"Action"),n.Pb(),n.Pb(),n.Pb(),n.Qb(14,"tbody"),n.wc(15,v,4,3,"tr",16),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb()),2&e){const e=t.$implicit;n.yb(3),n.Ac(" ",e.service_name," "),n.yb(12),n.hc("ngForOf",e.service_details_arr)}}function f(e,t){if(1&e&&(n.Qb(0,"section",7),n.Qb(1,"div",8),n.wc(2,g,16,2,"div",9),n.Pb(),n.Pb()),2&e){const e=n.cc();n.yb(2),n.hc("ngForOf",e.memberships)}}const P=function(){return{standalone:!0}};function _(e,t){if(1&e){const e=n.Rb();n.Qb(0,"div",19),n.Qb(1,"div",20),n.Qb(2,"div",21),n.Qb(3,"h4",22),n.yc(4),n.Pb(),n.Qb(5,"button",23),n.ac("click",function(){return n.qc(e),n.cc().hide()}),n.yc(6,"\xd7"),n.Pb(),n.Pb(),n.Qb(7,"form",24),n.Qb(8,"div",25),n.Qb(9,"div",26),n.Qb(10,"input",27),n.ac("ngModelChange",function(t){return n.qc(e),n.cc().service_obj.service_price=t}),n.Pb(),n.Pb(),n.Qb(11,"div",26),n.Qb(12,"select",28),n.ac("ngModelChange",function(t){return n.qc(e),n.cc().service_obj.currency_used=t}),n.Qb(13,"option",29),n.yc(14,"Select Currency"),n.Pb(),n.Qb(15,"option",30),n.yc(16,"SGD"),n.Pb(),n.Qb(17,"option",31),n.yc(18,"USD"),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(19,"div",32),n.Qb(20,"div",33),n.Lb(21,"ngx-paypal",34),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb()}if(2&e){const e=n.cc();n.yb(4),n.Bc("",e.service_obj.service_name," -> ",e.service_obj.service_tenure,""),n.yb(6),n.hc("ngModel",e.service_obj.service_price)("ngModelOptions",n.kc(7,P)),n.yb(2),n.hc("ngModel",e.service_obj.currency_used)("ngModelOptions",n.kc(8,P)),n.yb(9),n.hc("config",e.payPalConfig)}}const C=[{path:"",component:(()=>{class e{constructor(e,t){this.authService=e,this.router=t,this.paypal_secret_key="EPsOdG40IvPEm7PA0x4kYVtwce5srL8xdC-2g3NiWl1nE2F-vqaWJMWO_q4BJTLG0Gnyn_yLCm6HITSU",this.paypal_client_id="AcgDMCAxYPlMVrqv4gbUt6cQMttDges-zEvKEkrFNKNs0YxotG2kkMSaozBaN0C4H0QQKtHrmO3pG3Ww"}ngOnInit(){this.authService.retrieve("memberships").subscribe(e=>{if(e&&e.data&&e.data){this.memberships=e.data;for(let e in this.memberships){this.memberships[e].service_name_slug=this.memberships[e].service_name.toLowerCase().replace(" ","_"),this.memberships[e].service_monthly_slug=this.memberships[e].service_name_slug+"_service_monthly_"+(Number(e)+1),this.memberships[e].service_quarterly_slug=this.memberships[e].service_name_slug+"_service_quarterly_slug_"+(Number(e)+2),this.memberships[e].service_half_yearly_slug=this.memberships[e].service_name_slug+"_service_half_yearly_slug_"+(Number(e)+3),this.memberships[e].service_yearly_slug=this.memberships[e].service_name_slug+"_service_yearly_slug_"+(Number(e)+4),this.memberships[e].service_details_arr=[{service_tenure:"Monthly Membership",service_price:this.memberships[e].service_monthly,service_slug:this.memberships[e].service_monthly_slug,currency_used:this.memberships[e].currency_used},{service_tenure:"Quarterly Membership",service_price:this.memberships[e].service_quarterly,service_slug:this.memberships[e].service_quarterly_slug,currency_used:this.memberships[e].currency_used},{service_tenure:"Half Yearly Membership",service_price:this.memberships[e].service_half_yearly,service_slug:this.memberships[e].service_half_yearly_slug,currency_used:this.memberships[e].currency_used},{service_tenure:"Yearly Membership",service_price:this.memberships[e].service_yearly,service_slug:this.memberships[e].service_yearly_slug,currency_used:this.memberships[e].currency_used}];for(let t of this.memberships[e].service_details_arr);}}})}handleModel(e,t){this.service_obj=t,this.service_obj.service_name=e,this.payPalConfig={currency:"SGD",clientId:this.paypal_client_id,createOrderOnClient:e=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"SGD",value:this.service_obj.service_price,breakdown:{item_total:{currency_code:"SGD",value:this.service_obj.service_price}}},items:[{name:"Enterprise Subscription",quantity:"1",category:"DIGITAL_GOODS",unit_amount:{currency_code:"SGD",value:this.service_obj.service_price}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(e,t)=>{console.log("onApprove - transaction was approved, but not authorized",e,t),t.order.get().then(e=>{console.log("onApprove - you can get full order details inside onApprove: ",e)})},onClientAuthorization:e=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",e),this.showSuccess=!0},onCancel:(e,t)=>{console.log("OnCancel",e,t)},onError:e=>{console.log("OnError",e)},onClick:(e,t)=>{console.log("onClick",e,t)}},setTimeout(e=>{this.showModal=!0},200)}hide(){this.showModal=!1,this.payPalConfig=void 0}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(p.a),n.Kb(d.b))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-membership"]],decls:9,vars:4,consts:[["id","hero",1,"d-flex","align-items-center","justify-content-center"],["data-aos","fade-up",1,"container"],["data-aos","fade-up","data-aos-delay","150",1,"row","justify-content-center"],[1,"col-xl-6","col-lg-8"],["id","services","class","services",4,"ngIf"],["id","paypalModal",1,"modal"],["class","modal-dialog",4,"ngIf"],["id","services",1,"services"],[1,"row"],["class","col-md-6","style","padding-bottom: : 1em;",4,"ngFor","ngForOf"],[1,"col-md-6",2,"padding-bottom",": 1em"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"contact"],[1,"modal-body"],[1,"form-group"],["type","number","placeholder","Amount",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["value",""],["value","SGD"],["value","USD"],[1,"modal-footer"],[1,"text-center"],[3,"config"]],template:function(e,t){1&e&&(n.Qb(0,"section",0),n.Qb(1,"div",1),n.Qb(2,"div",2),n.Qb(3,"div",3),n.Qb(4,"h1"),n.yc(5,"Memberships"),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.wc(6,f,3,1,"section",4),n.Qb(7,"div",5),n.wc(8,_,22,9,"div",6),n.Pb()),2&e&&(n.yb(6),n.hc("ngIf",t.memberships),n.yb(1),n.vc("display",t.showModal?"block":"none"),n.yb(1),n.hc("ngIf",t.service_obj))},directives:[i.k,i.j,u.q,u.i,u.j,u.m,u.a,u.h,u.k,u.o,u.l,u.r,l],styles:[".card-header[_ngcontent-%COMP%]{padding:.75rem 1.25rem;margin-bottom:0;border-bottom:1px solid rgba(0,0,0,.125);-webkit-backdrop-filter:brightness(.5)!important;backdrop-filter:brightness(.5)!important;color:#fff8dc!important;font-weight:bolder!important}#hero[_ngcontent-%COMP%]{width:100%;height:75vh;background:url(membership.474a1e2854285f3dcf8f.jpg) top!important;background-size:cover!important;position:relative;background-repeat:no-repeat!important;background-position:91% 30%!important}@media screen and (max-width:600px){#hero[_ngcontent-%COMP%]{height:40vh!important}}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[d.d.forChild(C)],d.d]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[i.b,u.e,u.n,O,h]]}),e})()}}]);